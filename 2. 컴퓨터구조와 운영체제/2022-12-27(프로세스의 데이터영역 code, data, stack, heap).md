# 프로세스의 데이터 영역

### Code 영역
- **프로세스가 실행할 코드**와 매크로 **상수**가 기계어의 형태로 저장된 공간이다.
- **컴파일 타임에 결정**되고 중간에 코드를 바꿀 수 없게 **Read-Only**로 지정되있다.

### Data 영역
- 코드에서 선언한 **전역변수** 또는 **static변수** 등이 저장된 공간이다.
- 전역변수와 static 값을 참조한 코드는 **컴파일 하고 나면 Data 영역의 주소 값을 가르키도록** 바뀐다.
- 실행 도중에 전역변수가 변경 될 수 있으니 이 영역은 **Read-Write**로 지정되어있다.

### Stack 영역 (컴파일 시점에 크기가 결정되는 영역)
- 함수 안에서 선언된 지역변수, 매개변수, 리턴값, 돌아올 주소 등등이 저장되고 **함수 호출 시 기록하고 종료하면 제거**된다.
- **컴파일 타임**에 크기가 결정되므로 무한히 할당 할 수 없다.
- 재귀함수가 너무 깊에 호출되거나 함수가 지역변수를 너무 많이 가지고 있어 stack 영역을 초과하면 stack overflaw 에러가 발생한다.

### Heap 영역 (런타임에 크기가 결정되는 영역)
- 프로그래머가 필요할 때 사용하는 메모리 영역과는 다르게 Heap은 런타임에 결정된다.
- 데이터 배열의 크기가 확실하지 않고 변동이 있을 때 Heap 영역을 활용해서 메모리를 할당한다. 단 사용하고 난 다음에는 반드시 해제를 해야한다. 안그러면 memory leak가 발생한다.
    - GC에 의해 메모리가 자동 관리되지만 메모리 누수는 발생할 수 있다. 


# 컴파일 타임과 런타임

### 컴파일 타임
- 개발자에 의해 개발 언어로 소스 코드가 작성되며, 컴파일 과정을 통해 컴퓨터가 인식할 수 있는 기계어 코드로 변환되어 실행 가능한 프로그래밍 되는 과정
#### 컴파일 에러
- 소스코드가 컴파일 되는 과정 중에 발생하는 syntax error, 파일 참조 오류 등과 같은 문제들로 인해 컴파일이 방해되어 발생하는 오류들
- 컴파일 에러 발생 시, 현재 문제가 되는 소스코드를 알려준다.

### 런타임
- 컴파일 과정을 마친 응용 프로그램이 사용자에 의해서 실행되어 지는 타임을 의미한다.

#### 런타임 에러
- 이미 컴파일이 완료되어 프로그램이 실행 중임에도 불구하고, 의도치 않은 예외 상황으로 인하여 프로그램 실행 중에 발생하는 오류 형태를 의미한다.


# Java에서의 Stack과 Heap 영역

### stack
- 원시타입의 데이터들이 할당된다. 이때 원시 타입의 참조값을 저장하는 것이 아니라 실제 값을 stack에 직접 저장하게 된다.
- 또한, 스택에는 힙 영역에 생성된 객체 타입의 데이터들에 대한 참조를 위한 값들이 할당된다.


### Heap
- 힙영역에는 주로 긴 생명주기를 가지는 데이터들이 저장된다.
- 애플리케이션의 모든 메모리 중 stack에 있는 데이터를 제외한 부분 이라고 보면 된다.
- 모든 객체 타입은 힙 영역에 생성된다.
- 몇개의 스레드가 존재하든 상관없이 단 하나의 힙 영역에만 존재한다.
- 힙 영역에 있는 오브젝트들을 가리키는 레퍼런스 변수가 stack에 올라가게 된다.

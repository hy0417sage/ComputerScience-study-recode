# 코틸린 타입 시스템 : Nullable Type(널이 될 수 있는 타입)

## nullability (널 가능성)
- 널 가능성은 NPE 오류를 피할 수 있게 돕기 위한 코틀린 타입 시스템의 특성!
- 코틀린은 null이 될수 있는 타입을 명시적으로 지원한다.
    - 모든 타입은 기본적으로 널이 될 수 없는 타입
    - 뒤에 ?가 붙어야 널이 될 수 있다.
- Null 가능성이 있는 타입일 경우 
    1. 메서드 직접 호출 제한
    2. 널이 될 수 있는 값을 널이 될 수 없는 타입의 변수에 대입할 수 없음
- nullability 여부를 미리 판단해서 컴파일시 실행 시점에 발생할 수 있는 예외의 가능성을 줄일 수 있다.

## 타입의 의미
- 타입은 어떤 값들이 가능한 지와 
- 그 타입에 대해 수행할 수 있는 연산의 종류를 결정한다.
- String와 Null타입은 서로 완전히 다르다.
    - 두 종류의 값에 대해 실행할 수 있는 연산도 완전히 다름
- 코틀린의 Null이 될 수 있는 타입은 이런 문제에 대해 종합적인 해법을 제공한다.

# 코틀린이 제공하는 null이 될 수 있는 값을 다룰 때 도움이 되는 도구
1. 안전한 호출 연산자 .?
2. 앨비스 연산자 ?:
3. 안전한 캐스트 as?
4. 널 아님 단언 !!
5. let 함수

## safe call 연산자 (안전한 호출 연산자 .?)
- **null 검사**와 **메서드 호출**을 한번의 연산으로 수행한다.
- 메서드 호출 시 호출하려는 값이 null 이면 호출은 무시되고 null이 결과 값이 됨, null 이 아니라면 일반 메서드 호출처럼 작동
- 메서드 호출 뿐만이 아니라 프로퍼티를 읽거나 쓸 때도 안전한 호출을 사용할 수 있음

## 앨비스 연산자 ?:
- null 대신 사용할 디폴트 값을 정할 때 사용할 수 있는 연산자
- 앨비스 연산자의 좌항이 null 이면 즉시 어떤 값을 반환하거나 예외를 던진다.
- (+) 함수의 전제 조건을 검사하는 경우 특히 유용

## 안전한 캐스트 as?
- 연산자의 어떤 값을 지정한 타입으로 캐스트 한다.
- 값을 대상 타입으로 변환할 수 없으면 null을 반환한다.
- 파라미터로 받은 값이 원하는 타입인지 쉽게 검사하고 캐스크 할 수 있다.
    - 여기서 잠깐! is와 비교
    - (조건문 안에서 사용) is가 포함된 조건문 안의 코드는 전부 다운 캐스팅이 적용된다. 
    - 조건문 뿐만 아니라, 전체적인 코드에 다운캐스팅을 적용할 수 있음

## 널 아님 단언(not-null assertion)
- 어떤 값이든 널이 될 수 없는 타입으로 강제로 바꿀 수 있음
- 실제 널에 대해 !!를 적용하면 NPE가 발생
- (+) ...무엇일까요

### 스택 트레이스 (stack trace)
- 프로그램이 시작된 시점 부터 현재 위치 까지의 메서드 호출 목록
- 예외가 어디서 발생 했는지 알려주기 위해 JVM이 자동으로 생성 

## let 함수
- 널이 될 수 있는 타입의 값을 널이 될 수 없는 타입의 값으로 바꿔서 람다에 전달
- let 함수는 null이 아닌 경우에만 호출됨
- 널이 될 수 있는 식을 더 쉽게 다룰 수 있음
# 운영체제란?
- **실행할 프로그램이 필요한 자원을 할당**하고,
- **프로그램이 올바르게 실행 되도록 돕**는 프로그램

### 커널 영역
- **운영체제가 적제되는 RAM 메모리 공간**
- 커널 영역이 아닌 공간은 **사용자 영역**이라고 함

### 응용 프로그램
- 사용자가 특정 목적을 위해 사용하는 일반적인 프로그램
- 운영체제가 메모리 주소가 겹치지 않도록 적당한 사용자 영역 공간에 프로그램들을 적재해준다.
- ex. 워드 프로세서, 인터넷 브라우저, 메모장, 게임

## 운영체제의 역할
1. 실행할 프로그램(응용 프로그램)을 RAM 메모리의 사용자 영역에 적재
2. 실행되지 않는 프로그램 메모리에서 삭제
3. CPU의 자원을 최대한 공정하게 응용 프로그램에 할당
4. 응용 프로그램이 올바르게 실행되도록 관리
5. 응용 프로그램이 하드웨어에 직접 접근하는 것을 방지하여 자원을 보호한다.(오직 자신을 통해서만 자원에 접근하도록 함)

## 운영체제의 핵심 서비스
- 프로세스 관리 : 실행중인 프로그램을 프로세스하고 함. CPU는 이 프로세스들을 번갈아 가며 실행(전환을 반복)(10장)
- 자원 접근 및 할당 : 운영체제가 CPU, 메모리, 입출력장치를 관리하고 자원 접근 및 할당을 제공(11, 14장)
- 파일 시스템 관리 : 운영체제가 지원하는 핵심서비스로 보조기억장치 속 데이터 관리(15장)

### 운영체제가 커널에 적재되는 과정
1. 컴퓨터 전원이 켜지면 CPU가 **ROM**이라는 비휘발성 메모리에 접근해 내용을 읽는다.
    - ROM 구성 (POST, 부트로더)
2. **POST**는 전원이 켜지면 가장 먼저 실행되는 프로그램으로 현재 컴퓨터 상태를 검사한다.
3. 검사가 끝나면 **부트로더**를 실행한다 : 하드디스크에 있는 운영체제를 찾아 메인 메모리(RAM)에 가지고 온다.
    - 이러한 부트로더 과정을 **'부팅'**이라고 함

### 운영체제를 알아야 하는 이유
- 운영체제와의 대화를 통해 하드웨어와 프로그램을 더 깊이 이해하고 문제 해결의 실마리를 찾을 수 있다.

# 운영체제의 큰 그림
- 운영체제는 사용자가 실행하는 프로그램을 위한 프로그램이다.

## 커널 
- 운영체제의 핵심 서비스를 담당하는 부분으로
- **자원에 접근하고 조작**하는 기능
- **프로그램이 올바르고 안전하게 실행**되는 기능을 수행한다.

### 커널에 포함되지 않는 서비스
1. 사용자 인터페이스(UI) : 윈도우의 바탕 화면과 같이 사용자가 컴퓨터와 상호작용 할 수 있는 통로
    - 사용자 인터페이스 종류
    1. 그래픽 유저 인터페이스 : 그래픽 기반으로 컴퓨터와 상호작용
    2. 커맨드 라인 인터페이스 : 명령어 기반으로 사용자와 상호작용

## 이중 모드 dual mode
- CPU가 명령어를 실행하는 모드를 크게 **(1)사용자 모드**, **(2)커널 모드**로 구분하게 하는 방식
- 사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받으려면 운영체제에 요청을 보내 커널 모드로 전환
- **시스템 콜** : 응용 프로그램이 운영체제 서비스를 제공 받기 위한 요청
    - 시스템 호출(system call)은 운영 체제의 커널이 제공하는 서비스에 대해, 응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스이다.
    - 운영체제의 서비스를 제공받기 위해 커널 모드로 전환하는 방법
- **SW 인터럽트** : 인터럽트를 발생 시키는 특정 명령어에 의해 발생한 인터럽트

### 사용자 모드
- 운영체제 서비스를 제공받을 수 없는 실행 모드로 커널 영역의 코드를 실행할 수 없음

### 커널 모드
- 운영체제 서비스를 제공받을 수 있는 실행 모드로 커널 영역의 코드를 실행할 수 있음

### 시스템 호출의 작동의 예
1. 응용 프로그램은 하드디스크에 데이터를 저장하는 시스템 호출을 발생시켜 커널 모드로 전환
2. 운영체제 내의 '하드 디스크에 데이터를 정장하는 코드'를 실행하여 하드디스크에 접근
3. 하드 디스크에 접근이 끝났다면 다시 사용자 모드로 복귀하여 실행

## 가상 머신
- SW 적으로 만들어 낸 가상 컴퓨터
- 가상 머신을 설치하면 새로운 운영체제와 응용 프로그램을 설치하고 실행할 수 있다.
- 가상 머신 또한 응용프로그램 이다. -> 사용자 모드로 작동
    - 자상 머신에 설치된 응용체제도 사용자 모드로 작동하면 운영체제 서비스를 제공받기 어려우니
    - 가상머신을 위한 모드인 하이퍼바이저 모드를 사용해서 가상화를 지원
    - 가상 머신상에서 작동하는 응용 프로그램 들은 하이퍼바이저 모드로써 가상 머신에 설치된 운영체제로부터 운영체제 서비스를 받을 수 있다.  
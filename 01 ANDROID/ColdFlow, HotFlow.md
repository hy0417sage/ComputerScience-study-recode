# ColdFlow, HotFlow
![image](https://github.com/hy0417sage/TIL/assets/97173983/f0d815ba-633c-4979-b461-1fc5bb93a7ff)
- 콜드 플로우를 Hot Stream으로 변환 -> StateFlow와 SharedFlow

## Cold Stream
- Flow 를 수집하는 각각의 Collector들이 데이터를 수집 할 때마다 새로운 데이터 스트림을 생성하므로 Collector 들은 각각의 개별적인 데이터 스트림에서 데이터를 수집합니다.
- 스트림의 구독자마다 개별 스트림이 생성/시작되어 데이터를 전달하며 그렇기에 스트림 생성 후 구독하지 않으면 어떤 연산도 발생하지 않습니다.
- 하나의 소비자에게 값을 보낸다.
- 생성된 이후에 누군가 소비하기 시작하면 데이터를 발행한다.
- 데이터베이스를 읽거나 URL을 통해서 서버 값을 읽는 경우 Cold Stream으로 구현할 수 있습니다.

## Hot Stream
- Flow를 수집하는 각각의 Collector 들이 데이터 스트림을 공유하여 동일한 데이터를 수집하며 구현에 따라 Collector 유/무에 따라 시작 되기도 하지만 기본적으로 Collector가 없어도 데이터 제공자는 스트림 데이터를 제공합니다.
- 스트림이 생성되면 바로 연산이 시작되고 데이터를 전달하며 다수의 구독자가 동일한 스트림에서 데이터를 전달받을 수 있습니다.
- 하나 이상의 소비자에게 값을 보낼 수 있다.
- 데이터의 발행이 시작된 이후부터 모든 소비자에세 같은 데이터를 발행하고 구독자가 없는 경우에도 데이터를 발행한다.
- 예를 들어 상태가 변하지 값을 읽을 때 네트워크 상태 정보 값을 얻어올 때 Hot Stream을 사용할 수 있습니다.

### 데이터 스트림 흐름
![image](https://github.com/hy0417sage/TIL/assets/97173983/a3a50a25-57f3-40aa-bc0f-c1239f953a9e)
- 앱 아키텍처의 데이터 레이어에서 일련의 데이터 스트림을 UI 레이어로 제공하기 위해서 Flow를 생성, 전달하는 것은 어색하지 않은 자연스러운 구현 패턴
- UI 레이어의 데이터 요청에 데이터 레이어에서는 Flow 가 전달되고, 최종적으로 UI 레이어에서 collect(수집)를 시작하면 데이터 레이어의 데이터가 전달되기 시작


참고
- [콜드 플로우 효율적으로 사용하기](https://myungpyo.medium.com/%EC%BD%9C%EB%93%9C-%ED%94%8C%EB%A1%9C%EC%9A%B0-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-437a5edcd598)

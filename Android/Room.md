# Room DB란?
- AAC중 하나
- SQLite DB를 보다 쉽게 사용할 수 있도록 하는 라이브러리
- SQLite 기능을 사용하면서, Kotlin언어를 통해 직접 DB에 접근할 수 있다.
- 즉, 객체의 맵핑을 통해 DB에 직접 접근하는 ORM 라이브러리
- DB에서 데이터를 송 수신하는 작업이기 때문에 UI Thread인 Mian theard에서 처리할 수 없고 백그라운드에서만 작업 처리가 가능하다. 보통 비동기 처리

## Room DB가 나오게 된 배경
1. SQLite는 컴파일 시간이 확실하지 않다.
2. SQL 데이터에 변화가 생기면 수동으로 직접 변경해야 한다.
3. 위 과정에서 시간이 많이 소모되며 오류 발생 확률이 높다.
- 이러한 문제를 해결하기 위해 안드로이드에서 SQLite 데이터베이스 라이브러리를 쉽게 사용할 수 있도록 만들어진 것이 RoomDB입니다. 
- RoomDB는 SQLite 데이터베이스에 대한 추상화 계층을 제공하여 쿼리를 따로 작성할 필요 없이 사용할 수 있고, DB 스키마를 컴파일 타임에 확인하여 개발자가 올바르게 작성할 수 있도록 유도합니다.

## 왜 SQLite대신 Room DB를 사용할까? (나오게 된 배경과 동일)
- Sqlite의 경우 SQL쿼리에 대해 올바르게 작성 되었는지 컴파일 타임에 확인할 수 없습니다. 그래서 SQLite 추상화 계층을 제공하여 데이터베이스 액세스 동시에 사용할 수 있도록 했습니다.
- Sqlite는 잘못된 쿼리 사용으로 영향을 받는 데이터가 생긴다면, 오류를 직접 업데이트 해야 한다. 이 과정이 시간이 오래 걸리고 휴먼 에러를 발생 시키기도 한다.
- SQL 쿼리와 데이터 객체와의 변환이 자유롭지 못한다. 쿼리를 통해 필터들을 각각 읽고 하나의 데이터 객체의 생성자로서 대입하기 때문에 상용구 코드들이 많이 사용될 수 밖에 없다.

## Room DB의 구성요소
![image](https://user-images.githubusercontent.com/97173983/226267692-be1c0b61-6084-470b-8f56-b5a83e2ab9c4.png)
- Entity
    - DB의 테이블과 매칭될 클래스
    - 데이블에서 column에 해당하는 정보들을 변수로 담고 있다.
- DAO
    - DB 작업을(CRUD) 함수로 정의한 클래스. 즉 실제로 db에 접근하는 객체
    - @Dao 어노테이션을 가진 인터페이스
    - return 값을 LiveData로 받아오면서 최신 데이터 유지
    - Room은 DAO의 구현을 컴파일 시간에 생성한다.
- Room Database
    - DB 생성 및 버전 관리를 담당하는 RoomDB 객체
    - @dataBase 어노테이션 안에 사용할 엔티티 클래스를 포함시킴
    - 싱글톤 패턴으로 만들어야 비용을 절약하고 데이터의 일치성을 보장할 수 있다.
# TCP/IP 4κ³„μΈµ λ¨λΈ

## π’› μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ
- μ‘μ© ν”„λ΅κ·Έλ¨μ΄ μ‚¬μ©λλ” ν”„λ΅ν† μ½ κ³„μΈµμ΄λ©° μ›Ή μ„λΉ„μ¤, μ΄λ©”μΌ λ“± μ„λΉ„μ¤λ¥Ό μ‹¤μ§μ μΌλ΅ μ‚¬λλ“¤μ—κ² μ κ³µν•λ” μΈµμ΄λ‹¤.
- FTP, SSH, HTTP, SMTP, DNS

<br>

## π’› μ „μ†΅κ³„μΈµ (TCP/UDP)
- TCPλ” ν¨ν‚· μ‚¬μ΄μ μμ„λ¥Ό λ³΄μ¥ν•κ³  μ—°κ²° μ§€ν–¥ ν”„λ΅ν† μ½ λ°©μ‹μ„ μ‚¬μ©ν•΄μ„ μ—°κ²°μ„ ν•μ—¬ μ‹ λΆ°μ„±μ„ κµ¬μ¶•ν•΄μ„ μμ‹  μ—¬λ¶€λ¥Ό ν™•μΈν•λ©° 'κ°€μƒνμ„  ν¨ν‚· κµν™λ°©μ‹'μ„ μ‚¬μ©ν•λ‹¤.
- UDPλ” μμ„λ¥Ό λ³΄μ¥ν•μ§€ μ•κ³  μμ‹  μ—¬λ¶€λ¥Ό ν™•μΈν•μ§€ μ•μΌλ©° λ‹¨μν λ…ν„°λ§ μ£Όλ” 'λ°μ΄ν„° κ·Έλ¨ ν¨ν‚· κµν™ λ°©μ‹'μ„ μ‚¬μ©ν•λ‹¤.

### κ°€μƒ νμ„  ν¨ν‚· κµν™ λ°©μ‹ (TCP)
- κ° ν¨ν‚·μ—λ” κ°€μƒ νμ„  μ‹λ³„μκ°€ ν¬ν•¨λλ©° λ¨λ“  ν¨ν‚·μ„ μ „μ†΅ν•λ©΄ κ°€μƒ νμ„ μ΄ ν•΄μ λκ³  ν¨ν‚·λ“¤μ€ μ „μ†΅λ μμ„λ€λ΅ λ„μ°©ν•λ” λ°©μ‹
- ν¨ν‚· μμ„μ— λ”°λΌ μμ„λ€λ΅ λ„μ°©

### λ°μ΄ν„° κ·Έλ¨ ν¨ν‚· κµν™ λ°©μ‹ (UDP)
- ν•λ‚μ λ©”μ‹μ§€μ—μ„ λ¶„ν• λ μ—¬λ¬ ν¨ν‚·μ€ μ„λ΅ λ‹¤λ¥Έ κ²½λ΅λ΅ μ „μ†΅λ  μ μμΌλ©° λ„μ°©ν• μμ„κ°€ λ‹¤λ¥Ό μ μλ” λ°©μ‹
- μμ„λ€λ΅ λ„μ°©ν•μ§€ μ•μ

## 3-way handshake : TCP μ—°κ²° μ„±λ¦½ κ³Όμ •
- TCP 3 way handshake λ” TCP/IP ν”„λ΅ν† μ½μ„ μ΄μ©ν•΄μ„ ν†µμ‹ μ„ ν•λ” μ‘μ© ν”„λ΅κ·Έλ¨μ΄ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ „μ— λ¨Όμ € μ •ν™•ν• μ „μ†΅μ„ λ³΄μ¥ν•κΈ° μ„ν•΄ μƒλ€λ°© μ»΄ν“¨ν„°μ™€ μ‚¬μ „μ— μ„Έμ…μ„ μλ¦½ν•λ” κ³Όμ •μ„ μλ§ν•λ‹¤.
- TCP λ„¤νΈμ›ν¬μ—μ„ ν†µμ‹ μ„ ν•λ” μ¥μΉκ°€ μ„λ΅ μ—°κ²°μ΄ μ λμ–΄μ‡λ”μ§€ ν™•μΈν•λ” λ°©λ²•μΌλ΅ μ†΅μ‹ μμ™€ μμ‹ μλ” μ΄ 3λ²μ— κ±Έμ³ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μΌλ©° κ°€λ¥ν• μƒνƒμ„μ„ ν™•μΈ
- TCPλ” μ‹ λΆ°μ„±μ„ ν™•λ³΄ν•  λ• 3-way handshake μ‘μ—…μ„ μ§„ν–‰ν•λ‹¤.
1. SYN(ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„) : ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ ‘μ† μ”μ²­ν•λ” SYN ν¨ν‚·μ„ λ³΄λƒ„
2. SYN + ACK(μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ) : μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­μΈ SYNμ„ λ°›κ³ , ν΄λΌμ΄μ–ΈνΈμ— μ”μ²­μ„ μλ½ν•λ‹¤λ” ACKμ™€ SYNμ΄ μ„¤μ •λ ν¨ν‚·μ„ λ°μ†΅ν•¨
3. ACK(ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„) : ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„ μ μλ½ μ‘λ‹µμΈ ν¨ν‚·μ„ λ°›κ³  ACKλ¥Ό μ„λ²„λ΅ λ³΄λ‚΄λ©΄ μ—°κ²°μ΄ μ„±λ¦½λ¨
- TCPλ” μ΄ κ³Όμ •μ΄ μκΈ° λ•λ¬Έμ— μ‹ λΆ°μ„± μλ” κ³„μΈµμ΄λΌκ³  λ¶λ¦°λ‹¤.

### ν”λκ·Έ
- SYN : μ—°κ²° μ”μ²­ ν”λκ·Έ
- ACK : μ‘λ‹µ ν”λκ·Έ
- ISN : μ΄κΈ° λ„¤νΈμ›ν¬λ¥Ό μ—°κ²°ν•  κΉ¨ ν• λ‹Ήλ 32λΉ„νΈ κ³ μ  μ‹ν€€μ¤ λ²νΈ

## 4-way handshake : TCP μ—°κ²° ν•΄μ  κ³Όμ •
1. FIN(ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„) : ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ λ‹«μΌλ ¤κ³  ν•  λ• FINμΌλ΅ μ„¤μ •λ μ„Έκ·Έλ¨ΌνΈλ¥Ό λ³΄λ‚Έλ‹¤.
2. ACK(μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ) : μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ΅ ACKλ¥Ό λ³΄λ‚΄κ³  μΌμ • μ‹κ°„ μ΄ν›„μ— ν΄λΌμ΄μ–ΈνΈμ— FINμ΄λΌλ” μ„Έκ·Έλ¨ΌνΈλ¥Ό λ³΄λ‚Έλ‹¤
3. FIN(μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ) : μ„λ²„λ” ACK λ¥Ό λ³΄λ‚΄κ³  μΌμ • μ‹κ°„ μ΄ν›„μ— FIN μ„Έκ·Έλ¨ΌνΈλ¥Ό λ³΄λ‚Έλ‹¤
4. ACK(ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„) : ν΄λΌμ΄μ–Έλ“λ” TIMA_WATE μƒνƒκ°€ λκ³  λ‹¤μ‹ μ„λ²„λ΅ ACKλ¥Ό λ³΄λ‚΄μ„ μ„λ²„λ” COLSED μƒνƒκ°€ λ©λ‹λ‹¤. μ΄ν›„ ν΄λΌμ΄μ–ΈνΈλ” μ–΄λ μ •λ„ μ‹κ°„μ„ λ€κΈ°ν•  ν›„ μ—°κ²°μ΄ λ‹«νκ³  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λ¨λ“  μμ›μ μ—°κ²°μ΄ ν•΄μ λ©λ‹λ‹¤. 

### TIME_WATE
- μ†μΌ“μ΄ λ°”λ΅ μ†λ©Έλμ§€ μ•κ³  μΌμ • μ‹κ°„ μ μ§€λλ” μƒνƒλ¥Ό λ§ν•λ©° μ§€μ—° ν¨ν‚· λ“±μ λ¬Έμ μ μ„ ν•΄κ²°ν•λ” λ° μ“°μΈλ‹¤.

### λ°μ΄ν„° λ¬΄κ²°μ„±
- λ°μ΄ν„°μ μ •ν™•μ„±κ³Ό μΌκ΄€μ„±μ„ μ μ§€ν•κ³  λ³΄μ¦ν•λ” κ²ƒ

<br>

## π’› μΈν„°λ„· κ³„μΈµ
- μ¥μΉλ΅ λ¶€ν„° λ°›μ€ λ„¤νΈμ›ν¬ ν¨ν‚·μ„ IP μ£Όμ†λ΅ μ§€μ •λ λ©μ μ§€λ΅ μ „μ†΅ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” κ³„μΈµ
- IP, ARP, ICMP
- ν¨ν‚·μ„ μμ‹ ν•΄μ•Όν•  μƒλ€μ μ£Όμ†λ¥Ό μ§€μ •ν•μ—¬ λ°μ΄ν„°λ¥Ό μ „λ‹¬
- λΉ„ μ—°κ²°μ„± νΉμ§•μ„ κ°€μ§€κ³  μλ‹¤.

## π’› λ§ν¬ κ³„μΈµ
- μ‹¤μ§μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ©° μ¥μΉκ°„μ μ‹ νΈλ¥Ό μ£Όκ³  λ°›λ” κ·μΉ™μ„ μ‚¬μ©ν•λ” κ³„μΈµ
- μ „μ„ , κ΄‘μ„¬μ , λ¬΄μ„ 


<br>

## κ³„μΈµκ°„μ λ°μ΄ν„° μ†΅μμ‹  κ³Όμ •
- HTTPλ¥Ό ν†µν•΄ μ›Ή μ„λ²„μ— μλ” λ°μ΄ν„°λ¥Ό μ”μ²­ν•λ‹¤λ©΄,
- μΊ΅μν™”, λΉ„ μΊ΅μν™” κ³Όμ •μ„ κ±°μΉλ‹¤.

### μΊ΅μν™” κ³Όμ •
- κ°­μν™” κ³Όμ •μ€ μƒμ„ κ³„μΈµμ ν—¤λ”μ™€ λ°μ΄ν„°λ¥Ό ν•μ„ κ³„μΈµμ λ°μ΄ν„° λ¶€λ¶„μ— ν¬ν•¨μ‹ν‚¤κ³  
- ν•΄λ‹Ή κ³„μΈµμ ν—¤λ”λ¥Ό μ‚½μ…ν•λ” κ³Όμ •


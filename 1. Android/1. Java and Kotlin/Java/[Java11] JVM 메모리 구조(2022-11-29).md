# JVM이란?
- 자바 가상머신이라고 불리며, 자바와 운영체제 사이에서 중개자 역할을 합니다.
- 자바가 운영체제에 구애 받지 않고 프로그램을 실행할 수 있도록 도와줍니다.
- 또한, 가비지 컬렉터를 사용한 메모리 관리도 자동으로 수행하며
- 다른 하드웨어와 다르게 레지스터 기반이 아닌 스택 기반으로 동작합니다.

![자바프로그램의실행단계](./z.image/%EC%9E%90%EB%B0%94%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9D%98%EC%8B%A4%ED%96%89%EB%8B%A8%EA%B3%84.png)

- 자바 컴파일러에 의해 자바 소스 파일은 바이트 코드로 변환된다. 이러한 바이트 코드를 JVM에서 읽어 들인 다음 어떤 운영체제든 간에 프로그램을 실행할 수 있도록 만드는 것

## JVM 메모리 구조
1. 클래스 로더(class loader)
- JVM 내로 클래스 파일을 로드하고, 링크를 통해 배치하는 작업을 수행하는 모듈. 런타임 시에 동적으로 클래스를 로드
2. Execution Engine
- JVM은 모든 코드를 JIT 컴파일러 방식으로 실행하지 않고, 인터프리터 방식을 사용하다가 일정한 기분이 넘어가면 JIT 컴파일러 방식으로 실행한다.
3. 가지비 컬렉터(Garbage Collector)
- 힙 메모리 영역에 생성된 객체들 중에서 참조되지 않은 객체들을 탐색 후 제거하는 역할을 한다.
- GC가 역할을 하는 시간은 언제인지 정확히 알 수 없다.
4. Runtime Data Area
- JVM의 메모리 영역으로 자바 애플리케이션을 실행할 때 사용되는 데이터들을 적재하는 영역
- Method Area, Heap Area, Stack Area, PC Register, Native Method Stack
![런타임데이터](./z.image/%EB%9F%B0%ED%83%80%EC%9E%84%EB%8D%B0%EC%9D%B4%ED%84%B0area.png)
    1. method area : 모든 쓰레드가 공유하는 메모리 영역. 메소드 영역은 클래스, 인터페이스, 메소드, 필드, static 변수 등의 바이트 코드를 보관
    2. heap area : 모든 쓰레드가 공유, new 키워드로 생성된 객체와 배열이 생성되는 영역. 또한 메소드 영역에 로드된 클래스만 생성ㅇ이 가능하고 GC가 참조되지 않은 메모리를 확인하고 제거하는 영역
    3. stack area : 메서드 호출시마다 스택 프레임(그 메서드만을 위한 공간)이 생성합니다. 그리고 메서드 안에서 사용되는 값들을 저장하고, 호출된 메서드의 매개변수, 지역변수, 리턴 값 및 연산시 일어나는 값들을 임시로 저장 마지막으로 메서드 수행이 끝나면 프레임 별로 삭제
    4. Pc 레지스터 : 쓰레드가 시작될 때 생성되며, 생성될 떄마다 생성되는 공간으로 쓰레드 마다 하나씩 존재. 쓰레드가 어떤 부분을 무슨 명령으로 실행해랴할 지에 대한 기록을 하는 부분
    5. 네이티브 메서드 스택 : 자바 외 언어로 작성된 네이티브 코드를 위한 메모리 영역이다.

### 추가 학습 해야하는 내용 : 힙의 영역과 가비지 컬렉터 동작